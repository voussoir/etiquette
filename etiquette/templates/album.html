<!DOCTYPE html5>
<html>
<head>
    {% import "photo_object.html" as photo_object %}
    {% import "header.html" as header %}
    <title>Album {{album["title"]}}</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/static/common.css">
</head>
<style>
#content_body
{
    /* overriding common.css here */
    display: block;
}
</style>

<body>
{{header.make_header()}}
<div id="content_body">
    <h2>{{album["title"]}}</h2>
    {% set parent=album["parent"] %}
    {% if parent %}
    <h3>Parent: <a href="/album/{{parent["id"]}}">{{parent.title}}</a></h3>
    {% else %}
    <h3>Parent: <a href="/albums">Albums</a></h3>
    {% endif %}
    {% if album["sub_albums"] %}
    <h3>Sub-albums</h3>
    <ul>
        {% for sub_album in album["sub_albums"] %}
        <li><a href="/album/{{sub_album["id"]}}">
            {% if sub_album["title"] %}
            {{sub_album["title"]}}
            {% else %}
            {{sub_album["id"]}}
            {% endif %}</a>
        </li>
        {% endfor %}
    </ul>
    {% endif %}
    <span><a href="/album/{{album["id"]}}.tar">(download .tar)</a></span>
    {% if photos %}
    <h3>Photos</h3>
    <ul>
        {% for photo in photos %}
        {{photo_object.galleryview(photo)}}
        {% endfor %}
    </ul>
    {% endif %}
</div>
</body>

</html>

<script type="text/javascript">
function submit_tag(callback)
{
    add_photo_tag('{{album["id"]}}', add_tag_box.value, callback);
    add_tag_box.value = "";
}
</script>